4- Mark duplicates

#!/bin/bash

module load anaconda3/2019.03
module load java/16
conda init bash

samplesheet="granulifera_samples_sorted.bam.txt"
threads=$SLURM_JOB_CPUS_PER_NODE
sample=`sed -n "$SLURM_ARRAY_TASK_ID"p $samplesheet | awk '{print $1}'`
BAM=`sed -n "$SLURM_ARRAY_TASK_ID"p $samplesheet | awk '{print $2}'`

INDIR="my directory"
OUTDIR="my directory"
DEDUPED=$OUTDIR/"${sample}".sorted.deduped.bam
METRICS=$OUTDIR/"${sample}".picard-output.metrics
reference="GCA_033576555.1_ASM3357655v1_genomic.fa"

cd $OUTDIR
gatk MarkDuplicates -I $BAM -O $DEDUPED -VALIDATION_STRINGENCY SILENT -M $METRICS #-CREATE_INDEX true 


